# Specification for a network of nodes with IOTA as payment solution

** Status of the project: ** This repo contains rough specifications for a network of IOTA light wallet nodes.

# Specifications

## Preconditions:

In sense of the CAP theorem this specification prefers availability and partion tolerance over consistency. It is designed to be eventual consistent.

## Naming Convention:

## Node

A node is a embedded device which can be sensor- or payment-node. Node is the generic name for both.

## SensorNode

A sensor node is a small embedded device which collect some data about the sourounding environment. This could be the temperature, as well as the traffic of a specific street.

## PaymentNode

A payment node is a small embedded device which accepts IOTA payments and provides some service. This could be a car park barrier, as well as a snack automat.

## NodeGroup

A NodeGroup is a group of Sensor- or PaymentNodes which fullfil the same purpose in a given area.

## NodeGroup Member

A NodeGroup Member is a Node within a NodeGroup.

##### Examples

** Temperature sensors: ** Temperature sensors within a given area. This could be a district of a city or postcode area. These sensors provide information which are equal from the outside perspective. (temperature of a given area)

## NodeID

Each node has its own independent NodeID within a NodeGroup.

## Gateway

A Gateway is a more powerful embedded device, which gives the nodes indirect access to the tangle.

# Routing

This specification prefers Content Centric Networking for routing purposes, but can also used with a traditional TCP/IP stack or other network-layer solutions like 5LoWPAN.

# Short function description

## Communication

Nodes can communication peer to peer within their NodeGroup. Each node can also communicate to any Gateway. Nodes cannot talk to other Node outside of their NodeGroup.

## IOT Seeds

A NodeGroup shares an IOTA seeds. They therefore share also their addresses.


# Process of registration

## Add a new Node to an existing NodeGroup

### Step 1
If a new node gets added to an existing NodeGroup, it requests a list of all existing NodeGroup Members by a Gateway. It communicate to the other member of the NodeGroup and gives them all necassary information to operate within the NodeGroup. All NodeGroup Members response with all necassary information for the new added NodeGroup Member, such as seed and active addresses.

### Step 2
A Gateway requests every x seconds a status of the NodeGroup. One or more Member answer with the current status and the new added Member.

##Creation of a new NodeGroup

### Step 1
A new NodeGroup needs to be added to a Gateway. A new NodeGroup can not be created by a Node itself. The Member of the created NodeGroup can request a Gateway for initial configuration. A new seed will be generated by the Member itself, not a Gateway.

### Step 2
A Gateway requests every x seconds a status of the NodeGroup. Since there is only one Member in the NodeGroup, this Member will answer with the current status.


